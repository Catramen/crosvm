update refactored register / add reg aray support
    - update abi

